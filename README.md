# EBA Pillar III Disclosure Consistency Index (DCI)

**Author:** Arianna Melissano  
**Institution:** Justus Liebig University Giessen  
**Course:** AI in Finance  
**Supervisors:** Prof. Christina Evelies Bannier & Prof. Steven Ongena  
**Date:** February 2026  

---

## Overview

This repository implements a reproducible pipeline to compute a **Disclosure Consistency Index (DCI)** for European banks using mandatory EBA Pillar III ESG disclosures. The DCI measures whether a bank's qualitative narrative disclosure about fossil fuel financing is consistent with its actual quantitative fossil fuel exposure.

**Core idea:**  
> A bank that claims strong climate commitment in its narrative text but reports high fossil fuel lending in its structured data has a negative DCI — a potential greenwashing signal.

---

## Research Questions

1. Do European banks' qualitative ESG narratives (Template k_00.03) accurately reflect their quantitative fossil fuel exposure (Template K_41.00)?
2. Which banks over-disclose (DCI > 0) and which under-disclose (DCI < 0)?
3. Can LLM-based scoring of regulatory text provide a scalable proxy for disclosure quality?

---

## DCI Construction

```
QuantScore  = Fossil GCA / Total GCA
              (CPRS fossil NACE sectors: 05, 06, 19, 35.2)

DAS         = LLM-scored qualitative disclosure (0–10)
              across 5 dimensions: Specificity, Completeness,
              Forward-looking, Consistency, Comparability

DCI         = DAS_normalized − QuantScore_normalized
```

- **DCI > 0** → Bank discloses more transparently than its fossil exposure warrants
- **DCI ≈ 0** → Disclosure matches fossil exposure
- **DCI < 0** → Bank under-discloses relative to its fossil exposure (red flag)

---

## Data Source

**EBA Pillar III Disclosure Hub (P3DH)**  
URL: https://www.eba.europa.eu/risk-analysis-and-data/pillar-3-data-hub  
Format: XBRL packages (.zip) per bank  
Templates used:
- `k_41.00.csv` — Template K_41.00: Exposures by sector (quantitative)
- `k_00.03.csv` — Template k_00.03: Qualitative narrative disclosures
- `parameters.csv` — Reporting metadata (LEI, period, currency, decimal precision)

**Reference period:** H1 2025 (2025-06-30)  
**Sample:** 34 European Significant Institutions; 33 with QuantScore; 14 with qualitative text

**Taxonomy:** EBA DPM 4.1  
URL: https://www.eba.europa.eu/sites/default/files/2024-11/Full_taxonomy_and_technical_documentation.7z

---

## Pipeline

```
step0_build_taxonomy_mapping.py
    └── Decodes EBA DPM 4.1 taxonomy → identifies CPRS fossil datapoints

step1b_fixed_parser.py
    └── Parses all bank XBRL packages → extracts GCA, fossil exposure, text
    └── Handles decimalsMonetary variants (−6, −3, 0, 2, 4)
    └── Output: master_banks_fixed.csv

step2b_taxonomy_quantscore.py
    └── Computes QuantScore from decoded fossil datapoints
    └── Output: quantscore_taxonomy.csv

step2c_currency_fix.py
    └── Applies ECB FX rates for non-EUR reporters (HUF, RON, SEK)
    └── Output: quantscore_final.csv

step3_das_scoring.py
    └── Scores qualitative text via Claude API (5 dimensions)
    └── Computes DCI = DAS_normalized − QuantScore_normalized
    └── Output: das_scores.csv, dci_final.csv
```

---

## Repository Structure

```
eba-disclosure-consistency/
├── README.md                      ← this file
├── requirements.txt               ← Python dependencies
├── .gitignore                     ← excludes data, outputs, API keys
├── scripts/
│   ├── step0_build_taxonomy_mapping.py
│   ├── step1b_fixed_parser.py
│   ├── step2b_taxonomy_quantscore.py
│   ├── step2c_currency_fix.py
│   └── step3_das_scoring.py
├── docs/
│   └── data_quality_notes.md     ← known issues (Santander, Ålandsbanken)
└── output/                        ← generated by scripts (not committed)
    ├── master_banks_fixed.csv
    ├── dp_mapping_k41.csv
    ├── quantscore_taxonomy.csv
    ├── quantscore_final.csv
    ├── das_scores.csv
    └── dci_final.csv
```

---

## Setup and Usage

### 1. Clone the repository
```bash
git clone https://github.com/YOUR_USERNAME/eba-disclosure-consistency.git
cd eba-disclosure-consistency
```

### 2. Install dependencies
```bash
pip install -r requirements.txt
```

### 3. Download EBA data
Download XBRL packages from the EBA Pillar III Disclosure Hub:  
https://www.eba.europa.eu/risk-analysis-and-data/pillar-3-data-hub  
Extract each bank's .zip file into a folder named by LEI, placed inside `data/banks/`.

### 4. Download and extract the EBA DPM 4.1 taxonomy
```bash
# Download from EBA website, then extract using 7zip
~/Downloads/7zz x Full_taxonomy_and_technical_documentation.7z -o~/Downloads/
```

### 5. Set your Anthropic API key
```bash
export ANTHROPIC_API_KEY="sk-ant-..."
```
**Never commit your API key to GitHub.**

### 6. Run the pipeline
```bash
python3 scripts/step0_build_taxonomy_mapping.py
python3 scripts/step1b_fixed_parser.py
python3 scripts/step2b_taxonomy_quantscore.py
python3 scripts/step2c_currency_fix.py
python3 scripts/step3_das_scoring.py
```

---

## Key Findings (Preliminary)

| Metric | Value |
|--------|-------|
| Sample size | 33 banks with QuantScore |
| QuantScore range | 0.00% – 4.67% |
| QuantScore mean | 1.37% |
| Banks with qualitative text | 14 |
| DCI computed for | 14 banks |

**Brownest banks:** Alpha Bank (GR) 4.67%, Santander (ES) 4.23%*, Banco BPM (IT) 4.09%  
**Greenest banks:** Swedbank (SE) 0.00%, Bank of Valletta (MT) 0.00%, Caisse des Dépôts (FR) 0.02%

*Santander's absolute GCA is affected by a filing error (values 100× inflated); QuantScore % remains valid.

---

## Data Quality Notes

See `docs/data_quality_notes.md` for full details. Key issues:

| Bank | Issue | Impact |
|------|-------|--------|
| Santander | Values 100× inflated (EUR cents vs EUR mismatch) | QuantScore % valid; absolute GCA unreliable |
| Ålandsbanken | Incomplete Template 1 filing | QuantScore = 0% unreliable |
| Bank Pekao | Template 1 not filed | Excluded from QuantScore |
| Crelan | Template 1 not filed | Excluded from QuantScore |

---

## Technical Notes

### XBRL Decimal Scaling
EBA P3DH factValues are consistently stored in base units divisible by 10⁶, regardless of the `decimalsMonetary` precision indicator. All values are converted to local-currency millions by dividing by 1,000,000.

### CPRS Fossil Fuel Classification
Based on Battiston et al. (2017) "A climate stress-test of the financial system", *Nature Climate Change*. NACE sectors classified as fossil fuel:
- NACE 05: Coal and lignite mining (EBA NAC: B5)
- NACE 06: Crude petroleum and natural gas extraction (EBA NAC: B6)
- NACE 19: Manufacture of coke and refined petroleum products (EBA NAC: C19)
- NACE 35.2: Manufacture and distribution of gaseous fuels (EBA NAC: D35_2)

### LLM Scoring
Qualitative text scored using `claude-haiku-4-5-20251001`. Prompts are fully reproducible and included in `step3_das_scoring.py`. For robustness, future work should include inter-model reliability checks (re-score with GPT-4o-mini, require Pearson r > 0.70).

---

## References

- Battiston, S., Mandel, A., Monasterolo, I., Schütze, F., & Visentin, G. (2017). A climate stress-test of the financial system. *Nature Climate Change*, 7(4), 283–288.
- EBA (2022). Implementing Technical Standards on Pillar 3 disclosures on ESG risks. EBA/ITS/2022/01.
- EBA (2024). DPM 4.1 Taxonomy and Technical Documentation. European Banking Authority.
- Anthropic (2025). Claude API Documentation. https://docs.anthropic.com

---

## License

This code is released for academic and research purposes.  
Data sourced from EBA P3DH is subject to EBA's terms of use.
